# Database connection string
# Canonical key used by this project: DATABASE_URL
# (MONGODB_URI is supported only as a temporary legacy fallback.)
DATABASE_URL=mongodb://127.0.0.1/your-database-name

# Or use a PG connection string
#DATABASE_URL=postgresql://127.0.0.1:5432/your-database-name

# Used to encrypt JWT tokens
PAYLOAD_SECRET=YOUR_SECRET_HERE

# Used to configure CORS, format links and more. No trailing slash
NEXT_PUBLIC_SERVER_URL=http://localhost:3000
# Optional: force media reads through Payload `/api/media/file/*` proxy
NEXT_PUBLIC_USE_PAYLOAD_MEDIA_PROXY=false

# Keeps Server Action IDs stable across rebuilds (prevents "Server Action was not found" errors)
# Generate with: openssl rand -base64 32
NEXT_SERVER_ACTIONS_ENCRYPTION_KEY=REPLACE_WITH_OPENSSL_BASE64_32

# Substack subscribe URL:
# - Recommended: publication base URL, e.g. https://yournewsletter.substack.com
# - Also supported: full API endpoint, e.g. https://yournewsletter.substack.com/api/v1/free
SUBSTACK_SUBSCRIBE_URL=https://erinjerri.substack.com

# Secret used to authenticate cron jobs
CRON_SECRET=YOUR_CRON_SECRET_HERE

# Used to validate preview requests
PREVIEW_SECRET=YOUR_SECRET_HERE

# Keep seed route disabled in production unless explicitly needed
ALLOW_SEED_IN_PROD=false

# Cloudflare R2 via S3 adapter
# Enable R2 integration for media uploads
USE_R2_STORAGE=false
# Read strategy: false = proxied/private via Payload; true = direct public R2 URLs
R2_PUBLIC_READS=true
# Optional custom hostname for direct public media (used by next/image allowlist)
# Example: media.yourdomain.com
R2_PUBLIC_HOSTNAME=
R2_ACCOUNT_ID=
R2_BUCKET=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
# Optional explicit S3 endpoint override.
# Use this for R2 jurisdiction-specific buckets or custom endpoint routing:
# - Global default (auto): https://<account_id>.r2.cloudflarestorage.com
# - EU:                 https://<account_id>.eu.r2.cloudflarestorage.com
# - FedRAMP:            https://<account_id>.fedramp.r2.cloudflarestorage.com
R2_ENDPOINT=
# For Cloudflare R2, path-style addressing is usually the safest default.
# Set false only if you've verified virtual-host style with your setup.
R2_FORCE_PATH_STYLE=true
